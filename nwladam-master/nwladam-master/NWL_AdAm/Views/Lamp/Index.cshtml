@{
    ViewBag.Title = "NWL AdAM - หลอดไฟ";
}

@section css {
    <link href="~/Content/app/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
}

<div class="row">
    <div class="col-md-12 grid-margin">
        <div class="d-flex justify-content-start flex-wrap">
            <div class="d-flex align-items-end flex-wrap">
                <div class="mr-md-5 mr-xl-5">
                    <h2>หลอดไฟ</h2>
                    <p class="mb-md-0">
                        <i class="mdi mdi-home text-muted hover-cursor"></i>
                        <a class="text-muted mb-0" href="~/Home">&nbsp;/&nbsp;&nbsp;ภาพรวม&nbsp;&nbsp;/</a>
                        <a class="text-primary mb-0" href="~/Lamp">&nbsp;หลอดไฟ</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12 stretch-card">
        <div class="card">
            <div class="card-body">
                <div class="card-title">
                    <div class="d-flex justify-content-between flex-fill">
                        <button id="buttonNewLamp" class="btn btn-success btn-sm modal-state-create invisible" data-toggle="modal" data-target="#lampInfoModal"><i class="mdi mdi-plus"></i></button>

                        <div>
                            <div class="input-group">
                                <input type="text" class="form-control" id="lampTextSearch" placeholder="Search" autocomplete="off" />
                                <div class="input-group-append">
                                    <button id="lampSearchSubmit" class="btn btn-sm btn-primary" type="button"><i class="mdi mdi-magnify"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <label class="form-group has-float-label" for="projectCode">
                    <select id="projectCode" class="form-control">
                    </select>
                    <span>โครงการ</span>
                </label>

                <label class="form-group has-float-label" for="controllerCode">
                    <select id="controllerCode" class="form-control">
                    </select>
                    <span>กล่องควบคุม</span>
                </label>

                <div id="EMMProjectWarning" class="alert alert-danger d-none" role="alert">
                    เนื่องจากโครงการนี้ใช้กล่องควบคุมประเภท EMM จึงไม่สามารถเพิ่มหลอดไฟได้
                </div>

                <div id="no-more-tables" class="table-responsive grid-margin d-none">
                    <table id="dataTable" class="table table-hover">
                        <thead>
                            <tr>
                                <th class="col-md-2">
                                    S/N
                                </th>
                                <th class="col-md-4">
                                    ชื่อหลอดไฟ
                                </th>
                                <th class="col-md-3">
                                    สถานะ
                                </th>
                                <th class="col-md-3"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>

                <div id="bottomTable" class="d-flex justify-content-between align-items-center flex-wrap">
                    <div class="form-check">
                        <label class="form-check-label ">
                            <input type="checkbox" class="form-check-input" id="isAutoRefresh" checked>
                            โหลดข้อมูลใหม่อัตโนมัติ
                            <i class="input-helper"></i>
                        </label>
                    </div>
                    <div id="bottomPagination">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="lampInfoModal" tabindex="-1" role="dialog" aria-labelledby="lampInfoModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg modal-fullscreen-sm-down" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="lampInfoModalLongTitle">Modal Title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="row">
                    <label class="form-group col-md-12 has-float-label" for="lampSerialNo">
                        <input type="text" class="form-control" id="lampSerialNo" autocomplete="off" />
                        <span>S/N</span>
                    </label>
                </div>
                <div class="row">
                    <label class="form-group col-md-12 has-float-label" for="lampName">
                        <input type="text" class="form-control" id="lampName" autocomplete="off" />
                        <span>ชื่อหลอดไฟ</span>
                    </label>
                </div>
                <div class="row">
                    <label class="form-group col-md-12 has-float-label" for="lampDescription">
                        <input type="text" class="form-control" id="lampDescription" autocomplete="off" />
                        <span>รายละเอียด</span>
                    </label>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-group has-float-label" for="lampLat">
                            <input type="text" class="form-control" id="lampLat" autocomplete="off" />
                            <span>ละติจูด</span>
                        </label>
                    </div>
                    <div class="col-md-6">
                        <label class="form-group has-float-label" for="lampLong">
                            <input type="text" class="form-control" id="lampLong" autocomplete="off" />
                            <span>ลองจิจูด</span>
                        </label>
                    </div>
                </div>
                <div class="form-check col-md-12">
                    <label class="form-check-label ">
                        <input type="checkbox" class="form-check-input" id="isWarning" checked>
                        อนุญาตแจ้งเตือน
                        <i class="input-helper"></i>
                    </label>
                </div>
                <div class="modal-footer d-flex justify-content-end flex-wrap">
                    <button type="button" class="btn btn-outline-secondary btn-sm" data-dismiss="modal">
                        <i class="mdi mdi-close"></i>
                    </button>
                    <button id="modal-save-button" type="button" class="btn btn-success btn-sm">
                        <i class="mdi mdi-content-save"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="controlInfoModal" tabindex="-1" role="dialog" aria-labelledby="controlInfoModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg modal-fullscreen-sm-down" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="controlInfoModalLongTitle">แผงควบคุม</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body" id="controlEndpoint">
                <div class="row d-none">
                    <input type="text" class="form-control" id="controlMode" disabled />
                    <input type="text" class="form-control" id="controlProjectType" disabled />
                    <input type="text" class="form-control" id="controlControllerCode" disabled />
                </div>
                <div class="row">
                    <label class="form-group col-md-12 has-float-label" for="controlLampSerialNo">
                        <input type="text" class="form-control" id="controlLampSerialNo" disabled />
                        <span>S/N</span>
                    </label>
                </div>
                <div class="row">
                    <label class="form-group col-md-12 has-float-label" for="controlLampName">
                        <input type="text" class="form-control" id="controlLampName" disabled />
                        <span>ชื่อหลอดไฟ</span>
                    </label>
                </div>
                <div class="row">
                    <label class="form-group col-md-6 has-float-label" for="controlStaRelay">
                        <input type="text" class="form-control" id="controlStaRelay" disabled />
                        <span>สถานะ</span>
                    </label>
                    <label class="form-group col-md-6 has-float-label" for="controlStaMode">
                        <input type="text" class="form-control" id="controlStaMode" disabled />
                        <span>โหมดการทำงาน</span>
                    </label>
                </div>
                <div class="row">
                    <label class="form-group col-md-6 has-float-label" for="controlStaCurrent">
                        <input type="text" class="form-control" id="controlStaCurrent" disabled />
                        <span>ค่ากระแส</span>
                    </label>
                    <label class="form-group col-md-6 has-float-label" for="controlStaAmLight">
                        <input type="text" class="form-control" id="controlStaAmLight" disabled />
                        <span>Ambient</span>
                    </label>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label for="controlStaPWM1_rangeWarm">ค่าแสงอุ่น</label> <span id="controlStaPWM1_Text">0</span>
                        <input type="range" class="form-control-range" id="controlStaPWM1_rangeWarm" disabled>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="controlStaPWM2_rangeCool">ค่าแสงเย็น</label> <span id="controlStaPWM2_Text">0</span>
                        <input type="range" class="form-control-range" id="controlStaPWM2_rangeCool" disabled>
                    </div>
                </div>
                <hr />
                <br />
                <div class="row">
                    <label class="form-group col-md-12 has-float-label" for="controlActionList">
                        <select id="controlActionList" class="form-control">
                            <option selected disabled value="">...</option>
                            <option value="MODE_CHANGE">เปลี่ยนโหมดการทำงาน</option>
                            <option value="MANUAL">กำหนดการทำงานด้วยตนเอง</option>
                            <option value="SET_SCHEDULE">ตั้งเวลาทำงานอัตโนมัติ</option>
                        </select>
                        <span>คำสั่ง</span>
                    </label>
                </div>

                <div id="controlActionModeChange" class="d-none">
                    <div class="row">
                        <label class="form-group col-md-12 has-float-label" for="controlChangeModeList">
                            <select id="controlChangeModeList" class="form-control">
                                <option selected disabled value="">...</option>
                            </select>
                            <span>โหมดการทำงาน</span>
                        </label>
                    </div>
                </div>

                <div id="controlActionManual" class="d-none">
                    <div class="row">
                        <label class="form-group col-md-12 has-float-label" for="controlRelayState">
                            <select id="controlRelayState" class="form-control">
                                <option selected disabled value="">...</option>
                                <option value="0">ปิดไฟ</option>
                                <option value="1">เปิดไฟ</option>
                            </select>
                            <span>สถานะหลอดไฟ</span>
                        </label>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <label for="controlRangeWarm">ค่าแสงอุ่น</label> <span id="rangeWarm">50</span>
                            <input type="range" class="form-control-range" id="controlRangeWarm" onInput="$('#rangeWarm').html($(this).val())" disabled>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <label for="controlRangeCool">ค่าแสงเย็น</label> <span id="rangeCool">50</span>
                            <input type="range" class="form-control-range" id="controlRangeCool" onInput="$('#rangeCool').html($(this).val())" disabled>
                        </div>
                    </div>
                </div>

                <div id="controlActionSchedule" class="d-none">
                    <div class="row">
                        <label class="form-group col-md-12 has-float-label" for="schedule_1_no">
                            <input type="text" class="form-control" id="schedule_1_no" value="1" disabled />
                            <span>ลำดับ</span>
                        </label>
                    </div>
                    <div class="row">
                        <label class="form-group col-md-6 has-float-label" for="schedule_1_start">
                            <input type="text" class="form-control datetimepicker-input" id="schedule_1_start" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_1_start" />
                            <span>ตั้งแต่เวลา</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_1_duration_h">
                            <input type="text" class="form-control numberInputValidate" id="schedule_1_duration_h" autocomplete="off" maxlength="2" />
                            <span>ระยะเวลา - ชั่วโมง</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_1_duration_m">
                            <input type="text" class="form-control numberInputValidate" id="schedule_1_duration_m" autocomplete="off" maxlength="2" />
                            <span>นาที</span>
                        </label>

                        @*<label class="form-group col-md-6 has-float-label" for="schedule_1_duration">
                    <input type="text" class="form-control datetimepicker-input" id="schedule_1_duration" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_1_duration" />
                    <span>ระยะเวลา (ชั่วโมง:นาที)</span>
                </label>*@
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label for="schedule_1_controlRangeWarm">ค่าแสงอุ่น</label> <span id="schedule_1_rangeWarm">50</span>
                            <input type="range" class="form-control-range" id="schedule_1_controlRangeWarm" onInput="$('#schedule_1_rangeWarm').html($(this).val())">
                        </div>

                        <div class="form-group col-md-6">
                            <label for="schedule_1_controlRangeCool">ค่าแสงเย็น</label> <span id="schedule_1_rangeCool">50</span>
                            <input type="range" class="form-control-range" id="schedule_1_controlRangeCool" onInput="$('#schedule_1_rangeCool').html($(this).val())">
                        </div>
                    </div>

                    <hr />
                    <br />
                    <div class="row">
                        <label class="form-group col-md-12 has-float-label" for="schedule_2_no">
                            <input type="text" class="form-control" id="schedule_2_no" value="2" disabled />
                            <span>ลำดับ</span>
                        </label>
                    </div>
                    <div class="row">
                        <label class="form-group col-md-6 has-float-label" for="schedule_2_start">
                            <input type="text" class="form-control datetimepicker-input" id="schedule_2_start" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_2_start" />
                            <span>ตั้งแต่เวลา</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_2_duration_h">
                            <input type="text" class="form-control numberInputValidate" id="schedule_2_duration_h" autocomplete="off" maxlength="2" />
                            <span>ระยะเวลา - ชั่วโมง</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_2_duration_m">
                            <input type="text" class="form-control numberInputValidate" id="schedule_2_duration_m" autocomplete="off" maxlength="2" />
                            <span>นาที</span>
                        </label>

                        @*<label class="form-group col-md-6 has-float-label" for="schedule_2_duration">
                    <input type="text" class="form-control datetimepicker-input" id="schedule_2_duration" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_2_duration" />
                    <span>ระยะเวลา (ชั่วโมง:นาที)</span>
                </label>*@
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label for="schedule_2_controlRangeWarm">ค่าแสงอุ่น</label> <span id="schedule_2_rangeWarm">50</span>
                            <input type="range" class="form-control-range" id="schedule_2_controlRangeWarm" onInput="$('#schedule_2_rangeWarm').html($(this).val())">
                        </div>

                        <div class="form-group col-md-6">
                            <label for="schedule_2_controlRangeCool">ค่าแสงเย็น</label> <span id="schedule_2_rangeCool">50</span>
                            <input type="range" class="form-control-range" id="schedule_2_controlRangeCool" onInput="$('#schedule_2_rangeCool').html($(this).val())">
                        </div>
                    </div>

                    <hr />
                    <br />
                    <div class="row">
                        <label class="form-group col-md-12 has-float-label" for="schedule_3_no">
                            <input type="text" class="form-control" id="schedule_3_no" value="3" disabled />
                            <span>ลำดับ</span>
                        </label>
                    </div>
                    <div class="row">
                        <label class="form-group col-md-6 has-float-label" for="schedule_3_start">
                            <input type="text" class="form-control datetimepicker-input" id="schedule_3_start" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_3_start" />
                            <span>ตั้งแต่เวลา</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_3_duration_h">
                            <input type="text" class="form-control numberInputValidate" id="schedule_3_duration_h" autocomplete="off" maxlength="2" />
                            <span>ระยะเวลา - ชั่วโมง</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_3_duration_m">
                            <input type="text" class="form-control numberInputValidate" id="schedule_3_duration_m" autocomplete="off" maxlength="2" />
                            <span>นาที</span>
                        </label>

                        @*<label class="form-group col-md-6 has-float-label" for="schedule_3_duration">
                    <input type="text" class="form-control datetimepicker-input" id="schedule_3_duration" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_3_duration" />
                    <span>ระยะเวลา (ชั่วโมง:นาที)</span>
                </label>*@
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label for="schedule_3_controlRangeWarm">ค่าแสงอุ่น</label> <span id="schedule_3_rangeWarm">50</span>
                            <input type="range" class="form-control-range" id="schedule_3_controlRangeWarm" onInput="$('#schedule_3_rangeWarm').html($(this).val())">
                        </div>

                        <div class="form-group col-md-6">
                            <label for="schedule_3_controlRangeCool">ค่าแสงเย็น</label> <span id="schedule_3_rangeCool">50</span>
                            <input type="range" class="form-control-range" id="schedule_3_controlRangeCool" onInput="$('#schedule_3_rangeCool').html($(this).val())">
                        </div>
                    </div>

                    <hr />
                    <br />
                    <div class="row">
                        <label class="form-group col-md-12 has-float-label" for="schedule_4_no">
                            <input type="text" class="form-control" id="schedule_4_no" value="4" disabled />
                            <span>ลำดับ</span>
                        </label>
                    </div>
                    <div class="row">
                        <label class="form-group col-md-6 has-float-label" for="schedule_4_start">
                            <input type="text" class="form-control datetimepicker-input" id="schedule_4_start" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_4_start" />
                            <span>ตั้งแต่เวลา</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_4_duration_h">
                            <input type="text" class="form-control numberInputValidate" id="schedule_4_duration_h" autocomplete="off" maxlength="2" />
                            <span>ระยะเวลา - ชั่วโมง</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_4_duration_m">
                            <input type="text" class="form-control numberInputValidate" id="schedule_4_duration_m" autocomplete="off" maxlength="2" />
                            <span>นาที</span>
                        </label>

                        @*<label class="form-group col-md-6 has-float-label" for="schedule_4_duration">
                    <input type="text" class="form-control datetimepicker-input" id="schedule_4_duration" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_4_duration" />
                    <span>ระยะเวลา (ชั่วโมง:นาที)</span>
                </label>*@
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label for="schedule_4_controlRangeWarm">ค่าแสงอุ่น</label> <span id="schedule_4_rangeWarm">50</span>
                            <input type="range" class="form-control-range" id="schedule_4_controlRangeWarm" onInput="$('#schedule_4_rangeWarm').html($(this).val())">
                        </div>

                        <div class="form-group col-md-6">
                            <label for="schedule_4_controlRangeCool">ค่าแสงเย็น</label> <span id="schedule_4_rangeCool">50</span>
                            <input type="range" class="form-control-range" id="schedule_4_controlRangeCool" onInput="$('#schedule_4_rangeCool').html($(this).val())">
                        </div>
                    </div>

                    <hr />
                    <br />
                    <div class="row">
                        <label class="form-group col-md-12 has-float-label" for="schedule_5_no">
                            <input type="text" class="form-control" id="schedule_5_no" value="5" disabled />
                            <span>ลำดับ</span>
                        </label>
                    </div>
                    <div class="row">
                        <label class="form-group col-md-6 has-float-label" for="schedule_5_start">
                            <input type="text" class="form-control datetimepicker-input" id="schedule_5_start" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_5_start" />
                            <span>ตั้งแต่เวลา</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_5_duration_h">
                            <input type="text" class="form-control numberInputValidate" id="schedule_5_duration_h" autocomplete="off" maxlength="2" />
                            <span>ระยะเวลา - ชั่วโมง</span>
                        </label>

                        <label class="form-group col-md-3 has-float-label" for="schedule_5_duration_m">
                            <input type="text" class="form-control numberInputValidate" id="schedule_5_duration_m" autocomplete="off" maxlength="2" />
                            <span>นาที</span>
                        </label>

                        @*<label class="form-group col-md-6 has-float-label" for="schedule_5_duration">
                    <input type="text" class="form-control datetimepicker-input" id="schedule_5_duration" data-toggle="datetimepicker" autocomplete="off" data-target="#schedule_5_duration" />
                    <span>ระยะเวลา (ชั่วโมง:นาที)</span>
                </label>*@
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label for="schedule_5_controlRangeWarm">ค่าแสงอุ่น</label> <span id="schedule_5_rangeWarm">50</span>
                            <input type="range" class="form-control-range" id="schedule_5_controlRangeWarm" onInput="$('#schedule_5_rangeWarm').html($(this).val())">
                        </div>

                        <div class="form-group col-md-6">
                            <label for="schedule_5_controlRangeCool">ค่าแสงเย็น</label> <span id="schedule_5_rangeCool">50</span>
                            <input type="range" class="form-control-range" id="schedule_5_controlRangeCool" onInput="$('#schedule_5_rangeCool').html($(this).val())">
                        </div>
                    </div>
                </div>

                <div class="modal-footer d-flex justify-content-end flex-wrap">
                    <div class="flex-fill">
                        <p id="controlUpdatedAt" class="text-secondary d-none">ข้อมูลล่าสุดเมื่อ :</p>
                    </div>
                    <button type="button" class="btn btn-outline-secondary btn-sm" data-dismiss="modal">
                        <i class="mdi mdi-close"></i>
                    </button>
                    <button id="control-send-button" type="button" class="btn btn-success btn-sm">
                        <i class="mdi mdi-content-save"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script src="~/Scripts/app/view/lamp-view.js"></script>
    <script src="~/Scripts/app/base/moment-with-locales.min.js"></script>
    <script src="~/Scripts/app/base/tempusdominus-bootstrap-4.min.js"></script>
}
